# 🔧 鋼材残材管理システム

鋼材の残材を効率的に管理するためのWebアプリケーションです。

## ✨ 特徴

- 📱 **スマホ対応** - PC・スマホどちらでも快適に使用可能
- 📝 **一括登録** - 複数の残材を一度に登録
- 🔍 **検索機能** - 材質・寸法・置き場で残材を検索
- 📊 **スプレッドシート連携** - データはGoogleスプレッドシートに保存
- 💾 **オフライン対応** - ネット接続がなくてもローカルで動作

## 🚀 セットアップ方法

### 方法1: ローカルで使う（スプレッドシート連携なし）

1. このフォルダ内の `index.html` をブラウザで開く
2. そのまま使用可能（データはブラウザに保存されます）

### 方法2: スプレッドシートと連携する（推奨）

#### Step 1: Googleスプレッドシートの作成

1. [Google スプレッドシート](https://docs.google.com/spreadsheets/) を開く
2. 新しいスプレッドシートを作成
3. 適当な名前をつける（例: 「残材管理」）

#### Step 2: Google Apps Script の設定

1. スプレッドシートで **拡張機能** → **Apps Script** を開く
2. 既存のコードを削除
3. `Code.gs` ファイルの内容をすべてコピー＆ペースト
4. **保存**（Ctrl + S または ⌘ + S）
5. 関数選択で `initialize` を選び、**実行** をクリック
6. 初回は権限の許可が必要です。許可してください

#### Step 3: Webアプリとしてデプロイ

1. **デプロイ** → **新しいデプロイ** をクリック
2. **種類の選択** で **ウェブアプリ** を選択
3. 以下を設定:
   - **説明**: 残材管理システム（任意）
   - **次のユーザーとして実行**: 自分
   - **アクセスできるユーザー**: **全員**
4. **デプロイ** をクリック
5. 表示された **URL をコピー**

#### Step 4: アプリにURLを設定

1. `index.html` をブラウザで開く
2. **設定** タブを開く
3. **スプレッドシート連携** の欄にコピーしたURLを貼り付け
4. **保存** をクリック
5. **接続テスト** をクリックして接続を確認

## 📖 使い方

### 残材を登録する

1. **登録** タブを開く
2. 登録者名を入力（記憶するにチェックで次回から自動入力）
3. 材質・置き場・寸法を入力
4. 複数登録する場合は「＋行を追加」をクリック
5. 「まとめて登録」をクリック

### 残材を検索・使用する

1. **検索・使用** タブを開く
2. 使用者名を入力
3. 検索条件を設定（材質、寸法範囲など）
4. 「検索」をクリック
5. 使用したい残材にチェックを入れる
6. 「選択した残材を使用済みにする」をクリック

### 残材一覧を見る

1. **一覧** タブを開く
2. フィルター・ソートで絞り込み可能
3. 「編集」で寸法などを変更
4. 「移動」で置き場を変更

### 材質・置き場を追加する

1. **設定** タブを開く
2. 新しい材質/置き場を入力
3. 「追加」をクリック

## 📁 ファイル構成

```
zanzai/
├── index.html    # メインHTML
├── style.css     # スタイルシート
├── app.js        # フロントエンドJavaScript
├── Code.gs       # Google Apps Script（コピー用）
└── README.md     # このファイル
```

## 📊 スプレッドシートの構造

### 残材データ シート
| ID | 登録日時 | 材質 | 厚み(mm) | 幅(mm) | 長さ(mm) | 置き場 | 登録者 | 状態 | 使用日時 | 使用者 |
|----|----------|------|----------|--------|----------|--------|--------|------|----------|--------|

### 材質マスター シート
| 材質名 |
|--------|

### 置き場マスター シート
| 置き場名 |
|----------|

## ⚠️ 注意事項

- スプレッドシートのURLを他人に教えないでください
- デプロイURLが漏れると誰でもデータにアクセスできます
- 重要なデータは定期的にスプレッドシートでバックアップしてください

## 🛠 トラブルシューティング

### 接続テストが失敗する

1. URLが正しくコピーされているか確認
2. Apps Scriptで `initialize` を実行したか確認
3. デプロイの「アクセスできるユーザー」が「全員」になっているか確認

### データが保存されない

1. スプレッドシートを開いて直接確認
2. ブラウザのコンソール（F12）でエラーを確認
3. Apps Scriptのログを確認（実行数 → 該当の実行 → ログ）

### スマホでレイアウトが崩れる

- ブラウザのズーム設定を100%にリセット
- 横向きで使用してみる

## 📝 デフォルト材質

- SUS304 NO1
- SUS304 2B
- 酸洗
- SPCC
- ZAM
- SGC

## 📝 デフォルト置き場

- A棚-1
- A棚-2
- B棚-1
- B棚-2
- 加工場横
- 外置き場

---

© 2026 鋼材残材管理システム
